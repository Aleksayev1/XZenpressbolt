import React, { createContext, useContext, useState } from 'react';
import { Language } from '../types';

interface LanguageContextType {
  currentLanguage: Language;
  setLanguage: (language: Language) => void;
  t: (key: string) => string;
}

const languages: Language[] = [
  { code: 'pt', name: 'Portugu√™s', flag: 'üáßüá∑' },
  { code: 'en', name: 'English', flag: 'üá∫üá∏' },
  { code: 'es', name: 'Espa√±ol', flag: 'üá™üá∏' },
  { code: 'fr', name: 'Fran√ßais', flag: 'üá´üá∑' },
];

const translations: Record<string, Record<string, string>> = {
  pt: {
    'app.title': 'Bem-Estar Hol√≠stico',
    'nav.home': 'In√≠cio',
    'nav.acupressure': 'Acupress√£o',
    'nav.breathing': 'Respira√ß√£o',
    'nav.premium': 'Premium',
    'nav.login': 'Entrar',
    'nav.logout': 'Sair',
    'hero.title': 'Transforme sua vida com terapias Wellness',
    'hero.subtitle': 'Acupress√£o, respira√ß√£o 4-7-8, cromoterapia e sons harmonizantes em uma plataforma √∫nica',
    'breathing.title': 'T√©cnica de Respira√ß√£o 4-7-8',
    'breathing.inhale': 'Inspire',
    'breathing.hold': 'Segure',
    'breathing.exhale': 'Expire',
    'breathing.start': 'Iniciar Sess√£o',
    'breathing.stop': 'Parar',
    'login.title': 'Entrar na sua conta',
    'login.email': 'Email',
    'login.password': 'Senha',
    'login.submit': 'Entrar',
    'login.forgot': 'Esqueceu a senha?',
    'premium.title': '√Årea Premium',
    'premium.whatsapp': 'Consulta via WhatsApp',
    'premium.points': 'Pontos Espec√≠ficos',
    'premium.upgrade': 'Fazer Upgrade',
    'acupressure.title': 'Acupress√£o & Cranioterapia',
    'acupressure.select': 'Selecione um Ponto',
    'acupressure.instructions': 'Como Aplicar',
    'breathing.phase.inhale': 'Inspire (Azul da Calma)',
    'breathing.phase.hold': 'Segure (Verde do Equil√≠brio)',
    'breathing.phase.exhale': 'Expire (Magenta da Renova√ß√£o)',
    'breathing.chromotherapy.title': 'Cromoterapia Integrada',
    'breathing.chromotherapy.blue': 'Azul - Calma e Tranquilidade',
    'breathing.chromotherapy.blue.desc': 'Durante a inspira√ß√£o, o azul promove relaxamento profundo e reduz a ansiedade.',
    'breathing.chromotherapy.green': 'Verde - Equil√≠brio e Harmonia',
    'breathing.chromotherapy.green.desc': 'Na reten√ß√£o, o verde equilibra o sistema nervoso e promove estabilidade emocional.',
    'breathing.chromotherapy.magenta': 'Magenta - Renova√ß√£o e Energia',
    'breathing.chromotherapy.magenta.desc': 'Na expira√ß√£o, o magenta facilita a libera√ß√£o de tens√µes e renova a energia vital.',
    'breathing.benefits.title': 'Benef√≠cios da T√©cnica 4-7-8',
    'breathing.benefits.stress': 'Reduz estresse e ansiedade',
    'breathing.benefits.sleep': 'Melhora qualidade do sono',
    'breathing.benefits.focus': 'Aumenta foco e concentra√ß√£o',
    'breathing.benefits.pressure': 'Regula press√£o arterial',
    'breathing.sounds.title': 'Sons Harmonizantes',
    'breathing.sounds.free': 'Sons Gratuitos',
    'breathing.sounds.premium': 'Sons Premium',
    'breathing.sounds.ocean': 'Sons do Mar',
    'breathing.sounds.ocean.desc': 'Ondas relaxantes do oceano',
    'breathing.sounds.rain': 'Chuva Suave',
    'breathing.sounds.rain.desc': 'Som calmante de chuva',
    'breathing.sounds.play': 'Reproduzir',
    'breathing.sounds.pause': 'Pausar',
    'breathing.sounds.stop': 'Parar Tudo',
    'breathing.sounds.volume': 'Volume',
    'breathing.sounds.premium.desc': 'Desbloqueie nossa biblioteca completa com mais de 50 sons relaxantes e integra√ß√£o com Spotify Premium',
    'breathing.sounds.premium.upgrade': 'Fazer Upgrade',
    'breathing.sounds.premium.spotify': 'Spotify Premium',
    'breathing.science.title': 'Base Cient√≠fica da T√©cnica 4-7-8',
    'breathing.science.evidence': 'Evid√™ncias Cient√≠ficas',
    'breathing.science.chromotherapy': 'Cromoterapia Cient√≠fica',
  },
  en: {
    'app.title': 'Holistic Wellness',
    'nav.home': 'Home',
    'nav.acupressure': 'Acupressure',
    'nav.breathing': 'Breathing',
    'nav.premium': 'Premium',
    'nav.login': 'Login',
    'nav.logout': 'Logout',
    'hero.title': 'Transform your life with Wellness therapies',
    'hero.subtitle': 'Acupressure, 4-7-8 breathing, chromotherapy and harmonizing sounds in one platform',
    'breathing.title': '4-7-8 Breathing Technique',
    'breathing.inhale': 'Inhale',
    'breathing.hold': 'Hold',
    'breathing.exhale': 'Exhale',
    'breathing.start': 'Start Session',
    'breathing.stop': 'Stop',
    'login.title': 'Login to your account',
    'login.email': 'Email',
    'login.password': 'Password',
    'login.submit': 'Login',
    'login.forgot': 'Forgot password?',
    'premium.title': 'Premium Area',
    'premium.whatsapp': 'WhatsApp Consultation',
    'premium.points': 'Specific Points',
    'premium.upgrade': 'Upgrade Now',
    'acupressure.title': 'Acupressure & Craniotherapy',
    'acupressure.select': 'Select a Point',
    'acupressure.instructions': 'How to Apply',
    'breathing.phase.inhale': 'Inhale (Blue of Calm)',
    'breathing.phase.hold': 'Hold (Green of Balance)',
    'breathing.phase.exhale': 'Exhale (Magenta of Renewal)',
    'breathing.chromotherapy.title': 'Integrated Chromotherapy',
    'breathing.chromotherapy.blue': 'Blue - Calm and Tranquility',
    'breathing.chromotherapy.blue.desc': 'During inhalation, blue promotes deep relaxation and reduces anxiety.',
    'breathing.chromotherapy.green': 'Green - Balance and Harmony',
    'breathing.chromotherapy.green.desc': 'During retention, green balances the nervous system and promotes emotional stability.',
    'breathing.chromotherapy.magenta': 'Magenta - Renewal and Energy',
    'breathing.chromotherapy.magenta.desc': 'During exhalation, magenta facilitates tension release and renews vital energy.',
    'breathing.benefits.title': 'Benefits of 4-7-8 Technique',
    'breathing.benefits.stress': 'Reduces stress and anxiety',
    'breathing.benefits.sleep': 'Improves sleep quality',
    'breathing.benefits.focus': 'Increases focus and concentration',
    'breathing.benefits.pressure': 'Regulates blood pressure',
    'breathing.sounds.title': 'Harmonizing Sounds',
    'breathing.sounds.free': 'Free Sounds',
    'breathing.sounds.premium': 'Premium Sounds',
    'breathing.sounds.ocean': 'Ocean Sounds',
    'breathing.sounds.ocean.desc': 'Relaxing ocean waves',
    'breathing.sounds.rain': 'Gentle Rain',
    'breathing.sounds.rain.desc': 'Calming rain sound',
    'breathing.sounds.play': 'Play',
    'breathing.sounds.pause': 'Pause',
    'breathing.sounds.stop': 'Stop All',
    'breathing.sounds.volume': 'Volume',
    'breathing.sounds.premium.desc': 'Unlock our complete library with over 50 relaxing sounds and Spotify Premium integration',
    'breathing.sounds.premium.upgrade': 'Upgrade Now',
    'breathing.sounds.premium.spotify': 'Spotify Premium',
    'breathing.science.title': 'Scientific Basis of 4-7-8 Technique',
    'breathing.science.evidence': 'Scientific Evidence',
    'breathing.science.chromotherapy': 'Scientific Chromotherapy',
  },
  es: {
    'app.title': 'Bienestar Hol√≠stico',
    'nav.home': 'Inicio',
    'nav.acupressure': 'Acupresi√≥n',
    'nav.breathing': 'Respiraci√≥n',
    'nav.premium': 'Premium',
    'nav.login': 'Iniciar Sesi√≥n',
    'nav.logout': 'Cerrar Sesi√≥n',
    'hero.title': 'Transforma tu vida con terapias Wellness',
    'hero.subtitle': 'Acupresi√≥n, respiraci√≥n 4-7-8, cromoterapia y sonidos armonizantes en una plataforma √∫nica',
    'breathing.title': 'T√©cnica de Respiraci√≥n 4-7-8',
    'breathing.inhale': 'Inhalar',
    'breathing.hold': 'Mantener',
    'breathing.exhale': 'Exhalar',
    'breathing.start': 'Iniciar Sesi√≥n',
    'breathing.stop': 'Parar',
    'login.title': 'Iniciar sesi√≥n en tu cuenta',
    'login.email': 'Email',
    'login.password': 'Contrase√±a',
    'login.submit': 'Iniciar Sesi√≥n',
    'login.forgot': '¬øOlvidaste la contrase√±a?',
    'premium.title': '√Årea Premium',
    'premium.whatsapp': 'Consulta por WhatsApp',
    'premium.points': 'Puntos Espec√≠ficos',
    'premium.upgrade': 'Actualizar Ahora',
    'acupressure.title': 'Acupresi√≥n y Craneoterapia',
    'acupressure.select': 'Seleccionar un Punto',
    'acupressure.instructions': 'C√≥mo Aplicar',
    'breathing.phase.inhale': 'Inhalar (Azul de la Calma)',
    'breathing.phase.hold': 'Mantener (Verde del Equilibrio)',
    'breathing.phase.exhale': 'Exhalar (Magenta de la Renovaci√≥n)',
    'breathing.chromotherapy.title': 'Cromoterapia Integrada',
    'breathing.chromotherapy.blue': 'Azul - Calma y Tranquilidad',
    'breathing.chromotherapy.blue.desc': 'Durante la inhalaci√≥n, el azul promueve relajaci√≥n profunda y reduce la ansiedad.',
    'breathing.chromotherapy.green': 'Verde - Equilibrio y Armon√≠a',
    'breathing.chromotherapy.green.desc': 'Durante la retenci√≥n, el verde equilibra el sistema nervioso y promueve estabilidad emocional.',
    'breathing.chromotherapy.magenta': 'Magenta - Renovaci√≥n y Energ√≠a',
    'breathing.chromotherapy.magenta.desc': 'Durante la exhalaci√≥n, el magenta facilita la liberaci√≥n de tensiones y renueva la energ√≠a vital.',
    'breathing.benefits.title': 'Beneficios de la T√©cnica 4-7-8',
    'breathing.benefits.stress': 'Reduce estr√©s y ansiedad',
    'breathing.benefits.sleep': 'Mejora calidad del sue√±o',
    'breathing.benefits.focus': 'Aumenta enfoque y concentraci√≥n',
    'breathing.benefits.pressure': 'Regula presi√≥n arterial',
    'breathing.sounds.title': 'Sonidos Armonizantes',
    'breathing.sounds.free': 'Sonidos Gratuitos',
    'breathing.sounds.premium': 'Sonidos Premium',
    'breathing.sounds.ocean': 'Sonidos del Mar',
    'breathing.sounds.ocean.desc': 'Olas relajantes del oc√©ano',
    'breathing.sounds.rain': 'Lluvia Suave',
    'breathing.sounds.rain.desc': 'Sonido calmante de lluvia',
    'breathing.sounds.play': 'Reproducir',
    'breathing.sounds.pause': 'Pausar',
    'breathing.sounds.stop': 'Parar Todo',
    'breathing.sounds.volume': 'Volumen',
    'breathing.sounds.premium.desc': 'Desbloquea nuestra biblioteca completa con m√°s de 50 sonidos relajantes e integraci√≥n con Spotify Premium',
    'breathing.sounds.premium.upgrade': 'Actualizar Ahora',
    'breathing.sounds.premium.spotify': 'Spotify Premium',
    'breathing.science.title': 'Base Cient√≠fica de la T√©cnica 4-7-8',
    'breathing.science.evidence': 'Evidencia Cient√≠fica',
    'breathing.science.chromotherapy': 'Cromoterapia Cient√≠fica',
  },
  fr: {
    'app.title': 'Bien-√™tre Holistique',
    'nav.home': 'Accueil',
    'nav.acupressure': 'Acupression',
    'nav.breathing': 'Respiration',
    'nav.premium': 'Premium',
    'nav.login': 'Connexion',
    'nav.logout': 'D√©connexion',
    'hero.title': 'Transformez votre vie avec les th√©rapies Wellness',
    'hero.subtitle': 'Acupression, respiration 4-7-8, chromoth√©rapie et sons harmonisants sur une plateforme unique',
    'breathing.title': 'Technique de Respiration 4-7-8',
    'breathing.inhale': 'Inspirer',
    'breathing.hold': 'Retenir',
    'breathing.exhale': 'Expirer',
    'breathing.start': 'Commencer la Session',
    'breathing.stop': 'Arr√™ter',
    'login.title': 'Connectez-vous √† votre compte',
    'login.email': 'Email',
    'login.password': 'Mot de passe',
    'login.submit': 'Connexion',
    'login.forgot': 'Mot de passe oubli√©?',
    'premium.title': 'Zone Premium',
    'premium.whatsapp': 'Consultation WhatsApp',
    'premium.points': 'Points Sp√©cifiques',
    'premium.upgrade': 'Mettre √† Niveau',
    'acupressure.title': 'Acupression et Cr√¢nioth√©rapie',
    'acupressure.select': 'S√©lectionner un Point',
    'acupressure.instructions': 'Comment Appliquer',
    'breathing.phase.inhale': 'Inspirer (Bleu du Calme)',
    'breathing.phase.hold': 'Retenir (Vert de l\'√âquilibre)',
    'breathing.phase.exhale': 'Expirer (Magenta du Renouveau)',
    'breathing.chromotherapy.title': 'Chromoth√©rapie Int√©gr√©e',
    'breathing.chromotherapy.blue': 'Bleu - Calme et Tranquillit√©',
    'breathing.chromotherapy.blue.desc': 'Pendant l\'inspiration, le bleu favorise la relaxation profonde et r√©duit l\'anxi√©t√©.',
    'breathing.chromotherapy.green': 'Vert - √âquilibre et Harmonie',
    'breathing.chromotherapy.green.desc': 'Pendant la r√©tention, le vert √©quilibre le syst√®me nerveux et favorise la stabilit√© √©motionnelle.',
    'breathing.chromotherapy.magenta': 'Magenta - Renouveau et √ânergie',
    'breathing.chromotherapy.magenta.desc': 'Pendant l\'expiration, le magenta facilite la lib√©ration des tensions et renouvelle l\'√©nergie vitale.',
    'breathing.benefits.title': 'B√©n√©fices de la Technique 4-7-8',
    'breathing.benefits.stress': 'R√©duit stress et anxi√©t√©',
    'breathing.benefits.sleep': 'Am√©liore qualit√© du sommeil',
    'breathing.benefits.focus': 'Augmente concentration et focus',
    'breathing.benefits.pressure': 'R√©gule tension art√©rielle',
    'breathing.sounds.title': 'Sons Harmonisants',
    'breathing.sounds.free': 'Sons Gratuits',
    'breathing.sounds.premium': 'Sons Premium',
    'breathing.sounds.ocean': 'Sons de l\'Oc√©an',
    'breathing.sounds.ocean.desc': 'Vagues relaxantes de l\'oc√©an',
    'breathing.sounds.rain': 'Pluie Douce',
    'breathing.sounds.rain.desc': 'Son calmant de pluie',
    'breathing.sounds.play': 'Jouer',
    'breathing.sounds.pause': 'Pause',
    'breathing.sounds.stop': 'Arr√™ter Tout',
    'breathing.sounds.volume': 'Volume',
    'breathing.sounds.premium.desc': 'D√©bloquez notre biblioth√®que compl√®te avec plus de 50 sons relaxants et int√©gration Spotify Premium',
    'breathing.sounds.premium.upgrade': 'Mettre √† Niveau',
    'breathing.sounds.premium.spotify': 'Spotify Premium',
    'breathing.science.title': 'Base Scientifique de la Technique 4-7-8',
    'breathing.science.evidence': 'Preuves Scientifiques',
    'breathing.science.chromotherapy': 'Chromoth√©rapie Scientifique',
  },
};

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export const useLanguage = () => {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
};

export const LanguageProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [currentLanguage, setCurrentLanguage] = useState<Language>(() => {
    const savedLanguage = localStorage.getItem('language');
    return languages.find(lang => lang.code === savedLanguage) || languages[0];
  });

  const setLanguage = (language: Language) => {
    setCurrentLanguage(language);
    localStorage.setItem('language', language.code);
  };

  const t = (key: string): string => {
    return translations[currentLanguage.code]?.[key] || key;
  };

  return (
    <LanguageContext.Provider value={{ currentLanguage, setLanguage, t }}>
      {children}
    </LanguageContext.Provider>
  );
};

export { languages };